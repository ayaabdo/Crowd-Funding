<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Project</title>
</head>
<body>
    <form action="{% url 'add_project' %}" method="POST">
        {% csrf_token %}
        <div>Title: <input type="text" name='title' ></div></br>
        <div>Details: <input type="text" name="details" ></div> <br>
        <div>Category:<br>
            <select name="cat_id" id="">
                <option value="-1" selected>Select category</option>
                {% for cat in all_categories %}
                <option value="{{ cat.id }}">{{ cat.cat_name }}</option>
                {% endfor %}
        </select>
        </div>
        <div>Tags:<br>
            <select name="tags_id" id="" multiple="multiple">
                <option value="-1" selected>Select tag</option>
                {% for tag in all_tags %}
                <option value="{{ tag.id }}">{{ tag.tag_name }}</option>
                {% endfor %}
        </select>
        </div> <br>
        Images:
                <div id="images">                 </div>
                    <input type="button" name="add_image" id="add_image" value="Select image" />
        </br>
        <div>Total target: <input type="number" name="target" ></div> <br>
        <div>Total donation: <input type="number" name="donation" ></div> <br>
        <div>Created at: <input type="date" name="created_at" ></div> <br>
        <div>Start date: <input type="date" name="start_date" ></div> <br>
        <div>End date: <input type="date" name="end_date" ></div> <br>
        <button>Save</button>
    </form>

    <div class="footer">
        <p>Created by Geeks</p>
    </div>
</body>
<script>
    document.getElementById("add_image").onclick=function (ev) {

        var image=document.getElementById("images");

        var preview=document.createElement("img");
        preview.style.width="auto";
        preview.style.height="100px";


        var newInput=document.createElement("input");
        newInput.type="file";
        newInput.name="file[]";


        var br=document.createElement("br");
        var br1=document.createElement("br");

        newInput.onchange=function (ev1) {
            if(this.files && this.files[0]){
                var fileReader=new FileReader();

                fileReader.onload=function (ev2) {
                    preview.src=ev2.target.result;
                };

                fileReader.readAsDataURL(this.files[0])
            }
        };

        image.appendChild(preview);
        image.appendChild(newInput);
        image.appendChild(br);
        image.appendChild(br1);

    }
</script>

</html>